{% extends "base.html" %}

{% block content %}
<!-- Hero Section -->
<section class="bg-gradient-primary text-white py-5">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-8">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb mb-3">
                        <li class="breadcrumb-item"><a href="/" class="text-white-50">Home</a></li>
                        <li class="breadcrumb-item"><a href="/calculators" class="text-white-50">Calculators</a></li>
                        <li class="breadcrumb-item active text-white">Equity Split</li>
                    </ol>
                </nav>
                <h1 class="display-4 fw-bold mb-3">Equity Split Calculator</h1>
                <p class="lead mb-4">Calculate fair ownership percentages for multi-member LLCs based on contributions, time, and responsibilities.</p>
            </div>
            <div class="col-lg-4 text-center">
                <div class="bg-white bg-opacity-10 rounded-3 p-4 border border-white border-opacity-25">
                    <i class="fas fa-users fa-4x text-white mb-3"></i>
                    <h4 class="text-white mb-2">Free Tool</h4>
                    <p class="mb-0 text-white-75">Professional equity analysis</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Calculator Form -->
<section class="py-5">
    <div class="container">
        <div class="row">
            <div class="col-lg-8">
                <div class="card border-0 shadow-sm">
                    <div class="card-body p-4">
                        <h3 class="fw-bold mb-4">Enter Member Information</h3>
                        
                        <form id="equityForm">
                            <!-- Member 1 -->
                            <div class="card border mb-4">
                                <div class="card-body">
                                    <h5 class="fw-bold mb-3">Member 1</h5>
                                    <div class="row g-3">
                                        <div class="col-md-6">
                                            <label class="form-label">Name</label>
                                            <input type="text" class="form-control" id="member1Name" value="John Doe">
                                        </div>
                                        <div class="col-md-6">
                                            <label class="form-label">Capital Contribution ($)</label>
                                            <input type="number" class="form-control" id="member1Capital" value="50000" min="0">
                                        </div>
                                        <div class="col-md-6">
                                            <label class="form-label">Time (Hours/Week)</label>
                                            <input type="number" class="form-control" id="member1Time" value="40" min="0">
                                        </div>
                                        <div class="col-md-6">
                                            <label class="form-label">Skills Level (1-10)</label>
                                            <input type="number" class="form-control" id="member1Skills" value="8" min="1" max="10">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Member 2 -->
                            <div class="card border mb-4">
                                <div class="card-body">
                                    <h5 class="fw-bold mb-3">Member 2</h5>
                                    <div class="row g-3">
                                        <div class="col-md-6">
                                            <label class="form-label">Name</label>
                                            <input type="text" class="form-control" id="member2Name" value="Jane Smith">
                                        </div>
                                        <div class="col-md-6">
                                            <label class="form-label">Capital Contribution ($)</label>
                                            <input type="number" class="form-control" id="member2Capital" value="30000" min="0">
                                        </div>
                                        <div class="col-md-6">
                                            <label class="form-label">Time (Hours/Week)</label>
                                            <input type="number" class="form-control" id="member2Time" value="35" min="0">
                                        </div>
                                        <div class="col-md-6">
                                            <label class="form-label">Skills Level (1-10)</label>
                                            <input type="number" class="form-control" id="member2Skills" value="7" min="1" max="10">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <button type="submit" class="btn btn-warning btn-lg">
                                <i class="fas fa-calculator me-2"></i>Calculate Equity Split
                            </button>
                        </form>
                    </div>
                </div>
            </div>
            
            <!-- Results Panel -->
            <div class="col-lg-4">
                <div class="card border-0 shadow-sm sticky-top" style="top: 20px;">
                    <div class="card-body p-4">
                        <h4 class="fw-bold mb-4">Equity Split Results</h4>
                        
                        <div id="results" style="display: none;">
                            <div class="text-center mb-4 p-3 bg-warning bg-opacity-10 rounded">
                                <h5 class="fw-bold text-warning mb-2">Total Equity</h5>
                                <div class="display-6 fw-bold text-warning">100%</div>
                            </div>
                            
                            <div id="memberResults" class="mb-4">
                                <!-- Results populated by JavaScript -->
                            </div>
                            
                            <button class="btn btn-outline-warning w-100" onclick="exportResults()">
                                <i class="fas fa-download me-2"></i>Export Results
                            </button>
                        </div>
                        
                        <div id="noResults" class="text-center text-muted">
                            <i class="fas fa-users fa-3x mb-3"></i>
                            <p>Enter member information and click calculate to see your equity split.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Top 25 Cities & States -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="fw-bold mb-3">Top 25 Cities & States for LLC Formation</h2>
            <p class="lead text-muted">Discover the most popular locations for business formation based on population and business activity.</p>
        </div>
        
        <div class="row">
            <div class="col-lg-6 mb-4">
                <div class="card border-0 shadow-sm h-100">
                    <div class="card-header bg-primary text-white">
                        <h4 class="mb-0"><i class="fas fa-map me-2"></i>Top 25 States by Population</h4>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-12">
                                <div class="list-group list-group-flush">
                                    <a href="/state/california" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>1.</strong> California</span>
                                        <span class="badge bg-primary rounded-pill">39.5M</span>
                                    </a>
                                    <a href="/state/texas" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>2.</strong> Texas</span>
                                        <span class="badge bg-primary rounded-pill">29.1M</span>
                                    </a>
                                    <a href="/state/florida" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>3.</strong> Florida</span>
                                        <span class="badge bg-primary rounded-pill">21.8M</span>
                                    </a>
                                    <a href="/state/new-york" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>4.</strong> New York</span>
                                        <span class="badge bg-primary rounded-pill">19.5M</span>
                                    </a>
                                    <a href="/state/pennsylvania" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>5.</strong> Pennsylvania</span>
                                        <span class="badge bg-primary rounded-pill">12.8M</span>
                                    </a>
                                    <a href="/state/illinois" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>6.</strong> Illinois</span>
                                        <span class="badge bg-primary rounded-pill">12.7M</span>
                                    </a>
                                    <a href="/state/ohio" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>7.</strong> Ohio</span>
                                        <span class="badge bg-primary rounded-pill">11.7M</span>
                                    </a>
                                    <a href="/state/georgia" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>8.</strong> Georgia</span>
                                        <span class="badge bg-primary rounded-pill">10.7M</span>
                                    </a>
                                    <a href="/state/north-carolina" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>9.</strong> North Carolina</span>
                                        <span class="badge bg-primary rounded-pill">10.4M</span>
                                    </a>
                                    <a href="/state/michigan" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>10.</strong> Michigan</span>
                                        <span class="badge bg-primary rounded-pill">10.0M</span>
                                    </a>
                                    <a href="/state/new-jersey" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>11.</strong> New Jersey</span>
                                        <span class="badge bg-primary rounded-pill">9.3M</span>
                                    </a>
                                    <a href="/state/virginia" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>12.</strong> Virginia</span>
                                        <span class="badge bg-primary rounded-pill">8.6M</span>
                                    </a>
                                    <a href="/state/washington" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>13.</strong> Washington</span>
                                        <span class="badge bg-primary rounded-pill">7.7M</span>
                                    </a>
                                    <a href="/state/arizona" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>14.</strong> Arizona</span>
                                        <span class="badge bg-primary rounded-pill">7.3M</span>
                                    </a>
                                    <a href="/state/tennessee" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>15.</strong> Tennessee</span>
                                        <span class="badge bg-primary rounded-pill">6.9M</span>
                                    </a>
                                    <a href="/state/massachusetts" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>16.</strong> Massachusetts</span>
                                        <span class="badge bg-primary rounded-pill">6.9M</span>
                                    </a>
                                    <a href="/state/indiana" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>17.</strong> Indiana</span>
                                        <span class="badge bg-primary rounded-pill">6.8M</span>
                                    </a>
                                    <a href="/state/missouri" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>18.</strong> Missouri</span>
                                        <span class="badge bg-primary rounded-pill">6.2M</span>
                                    </a>
                                    <a href="/state/maryland" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>19.</strong> Maryland</span>
                                        <span class="badge bg-primary rounded-pill">6.2M</span>
                                    </a>
                                    <a href="/state/wisconsin" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>20.</strong> Wisconsin</span>
                                        <span class="badge bg-primary rounded-pill">5.9M</span>
                                    </a>
                                    <a href="/state/colorado" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>21.</strong> Colorado</span>
                                        <span class="badge bg-primary rounded-pill">5.8M</span>
                                    </a>
                                    <a href="/state/minnesota" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>22.</strong> Minnesota</span>
                                        <span class="badge bg-primary rounded-pill">5.7M</span>
                                    </a>
                                    <a href="/state/south-carolina" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>23.</strong> South Carolina</span>
                                        <span class="badge bg-primary rounded-pill">5.1M</span>
                                    </a>
                                    <a href="/state/alabama" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>24.</strong> Alabama</span>
                                        <span class="badge bg-primary rounded-pill">5.0M</span>
                                    </a>
                                    <a href="/state/louisiana" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>25.</strong> Louisiana</span>
                                        <span class="badge bg-primary rounded-pill">4.7M</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6 mb-4">
                <div class="card border-0 shadow-sm h-100">
                    <div class="card-header bg-success text-white">
                        <h4 class="mb-0"><i class="fas fa-city me-2"></i>Top 25 Cities by Population</h4>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-12">
                                <div class="list-group list-group-flush">
                                    <a href="/city/new-york-ny" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>1.</strong> New York, NY</span>
                                        <span class="badge bg-success rounded-pill">8.8M</span>
                                    </a>
                                    <a href="/city/los-angeles-ca" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>2.</strong> Los Angeles, CA</span>
                                        <span class="badge bg-success rounded-pill">4.0M</span>
                                    </a>
                                    <a href="/city/chicago-il" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>3.</strong> Chicago, IL</span>
                                        <span class="badge bg-success rounded-pill">2.7M</span>
                                    </a>
                                    <a href="/city/houston-tx" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>4.</strong> Houston, TX</span>
                                        <span class="badge bg-success rounded-pill">2.3M</span>
                                    </a>
                                    <a href="/city/phoenix-az" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>5.</strong> Phoenix, AZ</span>
                                        <span class="badge bg-success rounded-pill">1.6M</span>
                                    </a>
                                    <a href="/city/philadelphia-pa" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>6.</strong> Philadelphia, PA</span>
                                        <span class="badge bg-success rounded-pill">1.6M</span>
                                    </a>
                                    <a href="/city/san-antonio-tx" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>7.</strong> San Antonio, TX</span>
                                        <span class="badge bg-success rounded-pill">1.5M</span>
                                    </a>
                                    <a href="/city/san-diego-ca" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>8.</strong> San Diego, CA</span>
                                        <span class="badge bg-success rounded-pill">1.4M</span>
                                    </a>
                                    <a href="/city/dallas-tx" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>9.</strong> Dallas, TX</span>
                                        <span class="badge bg-success rounded-pill">1.3M</span>
                                    </a>
                                    <a href="/city/san-jose-ca" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>10.</strong> San Jose, CA</span>
                                        <span class="badge bg-success rounded-pill">1.0M</span>
                                    </a>
                                    <a href="/city/austin-tx" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>11.</strong> Austin, TX</span>
                                        <span class="badge bg-success rounded-pill">978K</span>
                                    </a>
                                    <a href="/city/jacksonville-fl" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>12.</strong> Jacksonville, FL</span>
                                        <span class="badge bg-success rounded-pill">949K</span>
                                    </a>
                                    <a href="/city/fort-worth-tx" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>13.</strong> Fort Worth, TX</span>
                                        <span class="badge bg-success rounded-pill">918K</span>
                                    </a>
                                    <a href="/city/columbus-oh" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>14.</strong> Columbus, OH</span>
                                        <span class="badge bg-success rounded-pill">898K</span>
                                    </a>
                                    <a href="/city/charlotte-nc" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>15.</strong> Charlotte, NC</span>
                                        <span class="badge bg-success rounded-pill">885K</span>
                                    </a>
                                    <a href="/city/san-francisco-ca" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>16.</strong> San Francisco, CA</span>
                                        <span class="badge bg-success rounded-pill">873K</span>
                                    </a>
                                    <a href="/city/indianapolis-in" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>17.</strong> Indianapolis, IN</span>
                                        <span class="badge bg-success rounded-pill">863K</span>
                                    </a>
                                    <a href="/city/seattle-wa" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>18.</strong> Seattle, WA</span>
                                        <span class="badge bg-success rounded-pill">744K</span>
                                    </a>
                                    <a href="/city/denver-co" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>19.</strong> Denver, CO</span>
                                        <span class="badge bg-success rounded-pill">727K</span>
                                    </a>
                                    <a href="/city/washington-dc" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>20.</strong> Washington, DC</span>
                                        <span class="badge bg-success rounded-pill">689K</span>
                                    </a>
                                    <a href="/city/boston-ma" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>21.</strong> Boston, MA</span>
                                        <span class="badge bg-success rounded-pill">675K</span>
                                    </a>
                                    <a href="/city/el-paso-tx" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>22.</strong> El Paso, TX</span>
                                        <span class="badge bg-success rounded-pill">679K</span>
                                    </a>
                                    <a href="/city/nashville-tn" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>23.</strong> Nashville, TN</span>
                                        <span class="badge bg-success rounded-pill">689K</span>
                                    </a>
                                    <a href="/city/detroit-mi" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>24.</strong> Detroit, MI</span>
                                        <span class="badge bg-success rounded-pill">674K</span>
                                    </a>
                                    <a href="/city/oklahoma-city-ok" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>25.</strong> Oklahoma City, OK</span>
                                        <span class="badge bg-success rounded-pill">655K</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="text-center mt-4">
            <a href="/cities" class="btn btn-primary btn-lg">
                <i class="fas fa-search me-2"></i>Browse All Locations
            </a>
        </div>
    </div>
</section>

<script>
document.getElementById('equityForm').addEventListener('submit', function(e) {
    e.preventDefault();
    calculateEquitySplit();
});

function calculateEquitySplit() {
    // Get member data
    const member1 = {
        name: document.getElementById('member1Name').value || 'Member 1',
        capital: parseFloat(document.getElementById('member1Capital').value) || 0,
        time: parseFloat(document.getElementById('member1Time').value) || 0,
        skills: parseFloat(document.getElementById('member1Skills').value) || 5
    };
    
    const member2 = {
        name: document.getElementById('member2Name').value || 'Member 2',
        capital: parseFloat(document.getElementById('member2Capital').value) || 0,
        time: parseFloat(document.getElementById('member2Time').value) || 0,
        skills: parseFloat(document.getElementById('member2Skills').value) || 5
    };
    
    // Calculate scores (40% capital, 30% time, 30% skills)
    const totalCapital = member1.capital + member2.capital;
    const totalTime = member1.time + member2.time;
    const totalSkills = member1.skills + member2.skills;
    
    const score1 = (member1.capital / totalCapital * 0.4) + (member1.time / totalTime * 0.3) + (member1.skills / totalSkills * 0.3);
    const score2 = (member2.capital / totalCapital * 0.4) + (member2.time / totalTime * 0.3) + (member2.skills / totalSkills * 0.3);
    
    const totalScore = score1 + score2;
    const equity1 = (score1 / totalScore) * 100;
    const equity2 = (score2 / totalScore) * 100;
    
    // Display results
    const memberResultsDiv = document.getElementById('memberResults');
    memberResultsDiv.innerHTML = `
        <div class="mb-3 p-3 border rounded">
            <div class="d-flex justify-content-between align-items-center mb-2">
                <h6 class="fw-bold mb-0">${member1.name}</h6>
                <span class="badge bg-warning text-dark">${equity1.toFixed(1)}%</span>
            </div>
            <div class="progress" style="height: 8px;">
                <div class="progress-bar bg-warning" style="width: ${equity1}%"></div>
            </div>
        </div>
        <div class="mb-3 p-3 border rounded">
            <div class="d-flex justify-content-between align-items-center mb-2">
                <h6 class="fw-bold mb-0">${member2.name}</h6>
                <span class="badge bg-warning text-dark">${equity2.toFixed(1)}%</span>
            </div>
            <div class="progress" style="height: 8px;">
                <div class="progress-bar bg-warning" style="width: ${equity2}%"></div>
            </div>
        </div>
    `;
    
    document.getElementById('results').style.display = 'block';
    document.getElementById('noResults').style.display = 'none';
}

function exportResults() {
    const data = {
        member1: {
            name: document.getElementById('member1Name').value,
            capital: parseFloat(document.getElementById('member1Capital').value) || 0,
            time: parseFloat(document.getElementById('member1Time').value) || 0,
            skills: parseFloat(document.getElementById('member1Skills').value) || 5
        },
        member2: {
            name: document.getElementById('member2Name').value,
            capital: parseFloat(document.getElementById('member2Capital').value) || 0,
            time: parseFloat(document.getElementById('member2Time').value) || 0,
            skills: parseFloat(document.getElementById('member2Skills').value) || 5
        }
    };
    
    const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'equity-split-analysis.json';
    a.click();
    URL.revokeObjectURL(url);
}
</script>
{% endblock %}

{% extends "base.html" %}

{% block content %}
<!-- Hero Section -->
<section class="bg-gradient-primary text-white py-5">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-8">
                <h1 class="display-4 fw-bold mb-4">
                    <i class="fas fa-calculator me-3"></i>LLC Formation Cost Calculator
                </h1>
                <p class="lead mb-4">Calculate the total cost of forming an LLC in your state. Compare service providers and get accurate pricing for your business formation.</p>
                <div class="d-flex flex-wrap gap-3">
                    <div class="d-flex align-items-center">
                        <i class="fas fa-map-marker-alt me-2"></i>
                        <span>State-specific pricing</span>
                    </div>
                    <div class="d-flex align-items-center">
                        <i class="fas fa-chart-bar me-2"></i>
                        <span>Service comparisons</span>
                    </div>
                    <div class="d-flex align-items-center">
                        <i class="fas fa-dollar-sign me-2"></i>
                        <span>Real-time calculations</span>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 text-center">
                <div class="bg-white bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 120px; height: 120px;">
                    <i class="fas fa-dollar-sign fa-4x"></i>
                </div>
                <h4>Accurate Pricing</h4>
                <p class="mb-0">Get detailed cost breakdowns</p>
            </div>
        </div>
    </div>
</section>

<!-- Calculator Section -->
<section class="py-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="card border-0 shadow-sm">
                    <div class="card-body p-4">
                        <h3 class="text-center mb-4">LLC Formation Cost Calculator</h3>
                        
                        <form id="costCalculator">
                            <!-- State Selection -->
                            <div class="mb-4">
                                <label class="form-label fw-bold">Select Your State</label>
                                <select class="form-select form-select-lg" id="stateSelect" required>
                                    <option value="">Choose your state...</option>
                                    {% for state_slug, state_info in states_data.items() %}
                                    <option value="{{ state_info.abbr }}" data-filing-fee="{{ state_info.formation_fee }}" data-annual-fee="{{ state_info.annual_fee }}">
                                        {{ state_info.name }} ({{ state_info.abbr }}) - Filing Fee: ${{ state_info.formation_fee }}
                                    </option>
                                    {% endfor %}
                                </select>
                            </div>

                            <!-- Service Provider -->
                            <div class="mb-4">
                                <label class="form-label fw-bold">Service Provider</label>
                                <select class="form-select" id="serviceProvider">
                                    <option value="northwest">Northwest Registered Agent - $39 + state fees</option>
                                    <option value="legalzoom">LegalZoom - $79 + state fees</option>
                                    <option value="zenbusiness">ZenBusiness - $49 + state fees</option>
                                    <option value="incfile">Incfile - $0 + state fees</option>
                                    <option value="bizee">Bizee - $29 + state fees</option>
                                    <option value="self">Self-filing (no service provider)</option>
                                </select>
                            </div>

                            <!-- Additional Services -->
                            <div class="mb-4">
                                <label class="form-label fw-bold">Additional Services</label>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="registeredAgent" value="125">
                                            <label class="form-check-label" for="registeredAgent">
                                                Registered Agent Service ($125/year)
                                            </label>
                                        </div>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="ein" value="0">
                                            <label class="form-check-label" for="ein">
                                                EIN Application (Free)
                                            </label>
                                        </div>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="operatingAgreement" value="50">
                                            <label class="form-check-label" for="operatingAgreement">
                                                Operating Agreement ($50)
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="rushFiling" value="100">
                                            <label class="form-check-label" for="rushFiling">
                                                Rush Filing ($100)
                                            </label>
                                        </div>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="businessBanking" value="0">
                                            <label class="form-check-label" for="businessBanking">
                                                Business Banking Guide (Free)
                                            </label>
                                        </div>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="compliance" value="99">
                                            <label class="form-check-label" for="compliance">
                                                Compliance Monitoring ($99/year)
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="text-center">
                                <button type="submit" class="btn btn-primary btn-lg">
                                    <i class="fas fa-calculator me-2"></i>Calculate Total Cost
                                </button>
                            </div>
                        </form>

                        <!-- Results Section -->
                        <div id="results" class="mt-4" style="display: none;">
                            <hr>
                            <h4 class="text-center mb-4">Cost Breakdown</h4>
                            
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="card border-0 bg-light">
                                        <div class="card-body">
                                            <h6 class="fw-bold">One-Time Costs</h6>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span>State Filing Fee:</span>
                                                <span id="stateFee">$0</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span>Service Provider:</span>
                                                <span id="serviceFee">$0</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span>Additional Services:</span>
                                                <span id="additionalFee">$0</span>
                                            </div>
                                            <hr>
                                            <div class="d-flex justify-content-between fw-bold">
                                                <span>Total One-Time:</span>
                                                <span id="totalOneTime">$0</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="card border-0 bg-light">
                                        <div class="card-body">
                                            <h6 class="fw-bold">Annual Costs</h6>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span>State Annual Report:</span>
                                                <span id="annualFee">$0</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span>Registered Agent:</span>
                                                <span id="agentFee">$0</span>
                                            </div>
                                            <div class="d-flex justify-content-between mb-2">
                                                <span>Compliance Monitoring:</span>
                                                <span id="complianceFee">$0</span>
                                            </div>
                                            <hr>
                                            <div class="d-flex justify-content-between fw-bold">
                                                <span>Total Annual:</span>
                                                <span id="totalAnnual">$0</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="text-center mt-4">
                                <div class="alert alert-primary">
                                    <h5 class="mb-2">Total First-Year Cost: <span id="totalFirstYear" class="fw-bold">$0</span></h5>
                                    <p class="mb-0 small">This includes all one-time costs plus the first year of annual costs.</p>
                                </div>
                            </div>

                            <div class="text-center">
                                <button class="btn btn-outline-primary me-2" onclick="resetCalculator()">
                                    <i class="fas fa-redo me-2"></i>Calculate Again
                                </button>
                                <a href="/resources" class="btn btn-primary">
                                    <i class="fas fa-tools me-2"></i>Explore More Tools
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Cost Comparison Section -->
<section class="py-5 bg-light">
    <div class="container">
        <h2 class="text-center mb-5">Service Provider Comparison</h2>
        <div class="row g-4">
            <div class="col-md-6 col-lg-4">
                <div class="card border-0 shadow-sm h-100">
                    <div class="card-body text-center">
                        <h5 class="text-primary">Northwest Registered Agent</h5>
                        <p class="text-muted small">Starting at $39 + state fees</p>
                        <ul class="list-unstyled text-start small">
                            <li class="mb-1"><i class="fas fa-check text-success me-2"></i>Free registered agent (1st year)</li>
                            <li class="mb-1"><i class="fas fa-check text-success me-2"></i>Operating agreement</li>
                            <li class="mb-1"><i class="fas fa-check text-success me-2"></i>EIN application</li>
                            <li class="mb-0"><i class="fas fa-check text-success me-2"></i>Lifetime customer support</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-lg-4">
                <div class="card border-0 shadow-sm h-100">
                    <div class="card-body text-center">
                        <h5 class="text-primary">LegalZoom</h5>
                        <p class="text-muted small">Starting at $79 + state fees</p>
                        <ul class="list-unstyled text-start small">
                            <li class="mb-1"><i class="fas fa-check text-success me-2"></i>Comprehensive legal support</li>
                            <li class="mb-1"><i class="fas fa-check text-success me-2"></i>Operating agreement</li>
                            <li class="mb-1"><i class="fas fa-check text-success me-2"></i>EIN application</li>
                            <li class="mb-0"><i class="fas fa-check text-success me-2"></i>Legal consultation</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-md-6 col-lg-4">
                <div class="card border-0 shadow-sm h-100">
                    <div class="card-body text-center">
                        <h5 class="text-primary">ZenBusiness</h5>
                        <p class="text-muted small">Starting at $49 + state fees</p>
                        <ul class="list-unstyled text-start small">
                            <li class="mb-1"><i class="fas fa-check text-success me-2"></i>Free registered agent</li>
                            <li class="mb-1"><i class="fas fa-check text-success me-2"></i>Operating agreement</li>
                            <li class="mb-1"><i class="fas fa-check text-success me-2"></i>EIN application</li>
                            <li class="mb-0"><i class="fas fa-check text-success me-2"></i>Compliance monitoring</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Tips Section -->
<section class="py-5">
    <div class="container">
        <h2 class="text-center mb-5">Cost-Saving Tips</h2>
        <div class="row g-4">
            <div class="col-md-6 col-lg-3">
                <div class="text-center">
                    <div class="bg-primary bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 80px; height: 80px;">
                        <i class="fas fa-search fa-2x text-primary"></i>
                    </div>
                    <h6>Compare Providers</h6>
                    <p class="text-muted small">Shop around and compare service providers to find the best value for your needs.</p>
                </div>
            </div>
            <div class="col-md-6 col-lg-3">
                <div class="text-center">
                    <div class="bg-primary bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 80px; height: 80px;">
                        <i class="fas fa-file-alt fa-2x text-primary"></i>
                    </div>
                    <h6>Self-File When Possible</h6>
                    <p class="text-muted small">Consider self-filing if you're comfortable with the process to save on service fees.</p>
                </div>
            </div>
            <div class="col-md-6 col-lg-3">
                <div class="text-center">
                    <div class="bg-primary bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 80px; height: 80px;">
                        <i class="fas fa-calendar fa-2x text-primary"></i>
                    </div>
                    <h6>Plan Ahead</h6>
                    <p class="text-muted small">Avoid rush filing fees by planning your LLC formation well in advance.</p>
                </div>
            </div>
            <div class="col-md-6 col-lg-3">
                <div class="text-center">
                    <div class="bg-primary bg-opacity-10 rounded-circle d-inline-flex align-items-center justify-content-center mb-3" style="width: 80px; height: 80px;">
                        <i class="fas fa-tools fa-2x text-primary"></i>
                    </div>
                    <h6>Bundle Services</h6>
                    <p class="text-muted small">Many providers offer discounts when you bundle multiple services together.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Disclaimer -->
<section class="py-4 bg-light">
    <div class="container">
        <div class="alert alert-info">
            <h6 class="alert-heading">
                <i class="fas fa-info-circle me-2"></i>Important Disclaimer
            </h6>
            <p class="mb-0 small">This calculator provides estimates based on typical costs and may not reflect current pricing. Actual costs may vary based on your specific situation, location, and service provider. We recommend contacting service providers directly for the most accurate and up-to-date pricing information.</p>
        </div>
    </div>
</section>

<!-- Top 25 Cities & States -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="text-center mb-5">
            <h2 class="fw-bold mb-3">Top 25 Cities & States for LLC Formation</h2>
            <p class="lead text-muted">Discover the most popular locations for business formation based on population and business activity.</p>
        </div>
        
        <div class="row">
            <div class="col-lg-6 mb-4">
                <div class="card border-0 shadow-sm h-100">
                    <div class="card-header bg-primary text-white">
                        <h4 class="mb-0"><i class="fas fa-map me-2"></i>Top 25 States by Population</h4>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-12">
                                <div class="list-group list-group-flush">
                                    <a href="/state/california" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>1.</strong> California</span>
                                        <span class="badge bg-primary rounded-pill">39.5M</span>
                                    </a>
                                    <a href="/state/texas" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>2.</strong> Texas</span>
                                        <span class="badge bg-primary rounded-pill">29.1M</span>
                                    </a>
                                    <a href="/state/florida" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>3.</strong> Florida</span>
                                        <span class="badge bg-primary rounded-pill">21.8M</span>
                                    </a>
                                    <a href="/state/new-york" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>4.</strong> New York</span>
                                        <span class="badge bg-primary rounded-pill">19.5M</span>
                                    </a>
                                    <a href="/state/pennsylvania" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>5.</strong> Pennsylvania</span>
                                        <span class="badge bg-primary rounded-pill">12.8M</span>
                                    </a>
                                    <a href="/state/illinois" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>6.</strong> Illinois</span>
                                        <span class="badge bg-primary rounded-pill">12.7M</span>
                                    </a>
                                    <a href="/state/ohio" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>7.</strong> Ohio</span>
                                        <span class="badge bg-primary rounded-pill">11.7M</span>
                                    </a>
                                    <a href="/state/georgia" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>8.</strong> Georgia</span>
                                        <span class="badge bg-primary rounded-pill">10.7M</span>
                                    </a>
                                    <a href="/state/north-carolina" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>9.</strong> North Carolina</span>
                                        <span class="badge bg-primary rounded-pill">10.4M</span>
                                    </a>
                                    <a href="/state/michigan" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>10.</strong> Michigan</span>
                                        <span class="badge bg-primary rounded-pill">10.0M</span>
                                    </a>
                                    <a href="/state/new-jersey" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>11.</strong> New Jersey</span>
                                        <span class="badge bg-primary rounded-pill">9.3M</span>
                                    </a>
                                    <a href="/state/virginia" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>12.</strong> Virginia</span>
                                        <span class="badge bg-primary rounded-pill">8.6M</span>
                                    </a>
                                    <a href="/state/washington" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>13.</strong> Washington</span>
                                        <span class="badge bg-primary rounded-pill">7.7M</span>
                                    </a>
                                    <a href="/state/arizona" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>14.</strong> Arizona</span>
                                        <span class="badge bg-primary rounded-pill">7.3M</span>
                                    </a>
                                    <a href="/state/tennessee" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>15.</strong> Tennessee</span>
                                        <span class="badge bg-primary rounded-pill">6.9M</span>
                                    </a>
                                    <a href="/state/massachusetts" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>16.</strong> Massachusetts</span>
                                        <span class="badge bg-primary rounded-pill">6.9M</span>
                                    </a>
                                    <a href="/state/indiana" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>17.</strong> Indiana</span>
                                        <span class="badge bg-primary rounded-pill">6.8M</span>
                                    </a>
                                    <a href="/state/missouri" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>18.</strong> Missouri</span>
                                        <span class="badge bg-primary rounded-pill">6.2M</span>
                                    </a>
                                    <a href="/state/maryland" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>19.</strong> Maryland</span>
                                        <span class="badge bg-primary rounded-pill">6.2M</span>
                                    </a>
                                    <a href="/state/wisconsin" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>20.</strong> Wisconsin</span>
                                        <span class="badge bg-primary rounded-pill">5.9M</span>
                                    </a>
                                    <a href="/state/colorado" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>21.</strong> Colorado</span>
                                        <span class="badge bg-primary rounded-pill">5.8M</span>
                                    </a>
                                    <a href="/state/minnesota" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>22.</strong> Minnesota</span>
                                        <span class="badge bg-primary rounded-pill">5.7M</span>
                                    </a>
                                    <a href="/state/south-carolina" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>23.</strong> South Carolina</span>
                                        <span class="badge bg-primary rounded-pill">5.1M</span>
                                    </a>
                                    <a href="/state/alabama" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>24.</strong> Alabama</span>
                                        <span class="badge bg-primary rounded-pill">5.0M</span>
                                    </a>
                                    <a href="/state/louisiana" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>25.</strong> Louisiana</span>
                                        <span class="badge bg-primary rounded-pill">4.7M</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-6 mb-4">
                <div class="card border-0 shadow-sm h-100">
                    <div class="card-header bg-success text-white">
                        <h4 class="mb-0"><i class="fas fa-city me-2"></i>Top 25 Cities by Population</h4>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-12">
                                <div class="list-group list-group-flush">
                                    <a href="/city/new-york-ny" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>1.</strong> New York, NY</span>
                                        <span class="badge bg-success rounded-pill">8.8M</span>
                                    </a>
                                    <a href="/city/los-angeles-ca" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>2.</strong> Los Angeles, CA</span>
                                        <span class="badge bg-success rounded-pill">4.0M</span>
                                    </a>
                                    <a href="/city/chicago-il" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>3.</strong> Chicago, IL</span>
                                        <span class="badge bg-success rounded-pill">2.7M</span>
                                    </a>
                                    <a href="/city/houston-tx" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>4.</strong> Houston, TX</span>
                                        <span class="badge bg-success rounded-pill">2.3M</span>
                                    </a>
                                    <a href="/city/phoenix-az" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>5.</strong> Phoenix, AZ</span>
                                        <span class="badge bg-success rounded-pill">1.6M</span>
                                    </a>
                                    <a href="/city/philadelphia-pa" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>6.</strong> Philadelphia, PA</span>
                                        <span class="badge bg-success rounded-pill">1.6M</span>
                                    </a>
                                    <a href="/city/san-antonio-tx" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>7.</strong> San Antonio, TX</span>
                                        <span class="badge bg-success rounded-pill">1.5M</span>
                                    </a>
                                    <a href="/city/san-diego-ca" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>8.</strong> San Diego, CA</span>
                                        <span class="badge bg-success rounded-pill">1.4M</span>
                                    </a>
                                    <a href="/city/dallas-tx" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>9.</strong> Dallas, TX</span>
                                        <span class="badge bg-success rounded-pill">1.3M</span>
                                    </a>
                                    <a href="/city/san-jose-ca" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>10.</strong> San Jose, CA</span>
                                        <span class="badge bg-success rounded-pill">1.0M</span>
                                    </a>
                                    <a href="/city/austin-tx" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>11.</strong> Austin, TX</span>
                                        <span class="badge bg-success rounded-pill">978K</span>
                                    </a>
                                    <a href="/city/jacksonville-fl" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>12.</strong> Jacksonville, FL</span>
                                        <span class="badge bg-success rounded-pill">949K</span>
                                    </a>
                                    <a href="/city/fort-worth-tx" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>13.</strong> Fort Worth, TX</span>
                                        <span class="badge bg-success rounded-pill">918K</span>
                                    </a>
                                    <a href="/city/columbus-oh" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>14.</strong> Columbus, OH</span>
                                        <span class="badge bg-success rounded-pill">898K</span>
                                    </a>
                                    <a href="/city/charlotte-nc" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>15.</strong> Charlotte, NC</span>
                                        <span class="badge bg-success rounded-pill">885K</span>
                                    </a>
                                    <a href="/city/san-francisco-ca" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>16.</strong> San Francisco, CA</span>
                                        <span class="badge bg-success rounded-pill">873K</span>
                                    </a>
                                    <a href="/city/indianapolis-in" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>17.</strong> Indianapolis, IN</span>
                                        <span class="badge bg-success rounded-pill">863K</span>
                                    </a>
                                    <a href="/city/seattle-wa" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>18.</strong> Seattle, WA</span>
                                        <span class="badge bg-success rounded-pill">744K</span>
                                    </a>
                                    <a href="/city/denver-co" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>19.</strong> Denver, CO</span>
                                        <span class="badge bg-success rounded-pill">727K</span>
                                    </a>
                                    <a href="/city/washington-dc" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>20.</strong> Washington, DC</span>
                                        <span class="badge bg-success rounded-pill">689K</span>
                                    </a>
                                    <a href="/city/boston-ma" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>21.</strong> Boston, MA</span>
                                        <span class="badge bg-success rounded-pill">675K</span>
                                    </a>
                                    <a href="/city/el-paso-tx" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>22.</strong> El Paso, TX</span>
                                        <span class="badge bg-success rounded-pill">679K</span>
                                    </a>
                                    <a href="/city/nashville-tn" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>23.</strong> Nashville, TN</span>
                                        <span class="badge bg-success rounded-pill">689K</span>
                                    </a>
                                    <a href="/city/detroit-mi" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>24.</strong> Detroit, MI</span>
                                        <span class="badge bg-success rounded-pill">674K</span>
                                    </a>
                                    <a href="/city/oklahoma-city-ok" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                        <span><strong>25.</strong> Oklahoma City, OK</span>
                                        <span class="badge bg-success rounded-pill">655K</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="text-center mt-4">
            <a href="/cities" class="btn btn-primary btn-lg">
                <i class="fas fa-search me-2"></i>Browse All Locations
            </a>
        </div>
    </div>
</section>

<script>
function calculateCosts() {
    const stateSelect = document.getElementById('stateSelect');
    const serviceProvider = document.getElementById('serviceProvider');
    
    if (!stateSelect.value) {
        alert('Please select a state first.');
        return;
    }
    
    // Get state fees
    const selectedOption = stateSelect.options[stateSelect.selectedIndex];
    const filingFee = parseInt(selectedOption.dataset.filingFee) || 0;
    const annualFee = parseInt(selectedOption.dataset.annualFee) || 0;
    
    // Get service provider fee
    let serviceFee = 0;
    switch(serviceProvider.value) {
        case 'northwest': serviceFee = 39; break;
        case 'legalzoom': serviceFee = 79; break;
        case 'zenbusiness': serviceFee = 49; break;
        case 'incfile': serviceFee = 0; break;
        case 'bizee': serviceFee = 29; break;
        case 'self': serviceFee = 0; break;
    }
    
    // Calculate additional services
    let additionalFee = 0;
    if (document.getElementById('registeredAgent').checked) additionalFee += 125;
    if (document.getElementById('operatingAgreement').checked) additionalFee += 50;
    if (document.getElementById('rushFiling').checked) additionalFee += 100;
    if (document.getElementById('compliance').checked) additionalFee += 99;
    
    // Calculate annual costs
    let annualCosts = annualFee;
    if (document.getElementById('registeredAgent').checked) annualCosts += 125;
    if (document.getElementById('compliance').checked) annualCosts += 99;
    
    // Update display
    document.getElementById('stateFee').textContent = `$${filingFee}`;
    document.getElementById('serviceFee').textContent = `$${serviceFee}`;
    document.getElementById('additionalFee').textContent = `$${additionalFee}`;
    document.getElementById('totalOneTime').textContent = `$${filingFee + serviceFee + additionalFee}`;
    
    document.getElementById('annualFee').textContent = `$${annualFee}`;
    document.getElementById('agentFee').textContent = document.getElementById('registeredAgent').checked ? '$125' : '$0';
    document.getElementById('complianceFee').textContent = document.getElementById('compliance').checked ? '$99' : '$0';
    document.getElementById('totalAnnual').textContent = `$${annualCosts}`;
    
    const totalFirstYear = filingFee + serviceFee + additionalFee + annualCosts;
    document.getElementById('totalFirstYear').textContent = `$${totalFirstYear}`;
    
    // Show results
    document.getElementById('results').style.display = 'block';
    document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
}

function resetCalculator() {
    document.getElementById('costCalculator').reset();
    document.getElementById('results').style.display = 'none';
}

// Form submission
document.getElementById('costCalculator').addEventListener('submit', function(e) {
    e.preventDefault();
    calculateCosts();
});

// Auto-calculate when state changes
document.getElementById('stateSelect').addEventListener('change', function() {
    if (this.value) {
        calculateCosts();
    }
});

// Auto-calculate when checkboxes change
document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
    checkbox.addEventListener('change', function() {
        if (document.getElementById('stateSelect').value) {
            calculateCosts();
        }
    });
});
</script>

<style>
.bg-gradient-primary {
    background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
}
</style>
{% endblock %}
